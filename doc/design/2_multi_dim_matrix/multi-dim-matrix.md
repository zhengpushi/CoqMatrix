## Block模块在“Vector Calculus"中的应用

* reference book: Vector Calculus, Michael Corral



## 背景知识

### 为什么设计“Block”模块

* 使用“Block”模块，可以方便的操纵定长数据，而且支持以统一的方式进行无限嵌套，因而可以方便的处理任意维度的数组，包括一维向量、二维矩阵等。由于Block模块是以list为载体，并附加了长度限制条件，因而，即实现了定长数组，又易于进行开发。而且，Block与Coq标准库中的Vector实现是同构的，还有几个类似的实现也是同构的，但比他们要容易使用的多。
* 当时马振威提出matrix模型以后，由于矩阵相等使用等价关系，导致处理特别繁琐，而如今参考了CPDT中的相等性处理以后，可以使用UIP（等式证明唯一性定理）完成证明，从而简化了matrix模型。而现在提出的Block模型是更简单的一种实现，其扩展性也大大增强。以往要使用Matrix进行vector的应用，需要处理为 matrix 1 n 或 matrix n 1 ，相当于绕弯路来处理，而且 matrix 不方便扩展。
* 除了vector需求，直接动力是我们在形式化内存模型时，需要一种简单的数组模型，从而有了该项目。当时使用了多个方案，包括 PArray, Vector.t, Bvector, BitVector 等。详见另一个项目中的分析

### Block模块有哪些潜在应用

* 定长数组、向量、矩阵
* 存储器模型，页面、扇区、磁道、磁盘等
* 高维数组、无限维数组的研究

## Textbook

### Ch1. Vectors in Euclidean Space

* 介绍
  * 一个对象的位置
    * 单变量演算中，函数图像在二维平面，也称 Euclidean Plane
    * 向量（或多变量）演算中，函数可能含有2个或3个变量，函数图像在Euclidean space（欧式空间）中。笛卡尔坐标系由所有有序的实数三元组(a,b,c)构成。所以，三维欧式空间，用$\mathbb{R}^3$来表示。
    * 三个变量的函数，其图像存在于四维空间（$\mathbb{R}^4$），不能直观的看到。
  * 一个对象的速度
    * 不仅有运动，还有方向。这就是向量的由来
  * 定义1.1 (非零)向量是从一点P（称起点）到一点Q（称终点）的有向线段，P和Q是不同的点。该向量表示为$\overrightarrow{PQ}$，其方向与该有向线段的方向相同。零向量只是一个点，表示为$\mathbf{0}$。
    * 向量的“length”和“magnitude”会不加区分的使用。
    * 需要注意零向量。我们研究矢量的动机包括大小和方向的概念。零向量的大小，被定义为0，即$\|\mathbf{0}\|=0$，于是零向量就是一个点。零向量的方向并没有很好的定义，大家意见不统一，有人认为是任意方向，有人认为是未定义的，也有的认为是没有方向。我们只定义了非零向量的方向，至于零向量我们并不需要一个方向，不管它。
    * 形式化是需要考虑，是否需要两个类型？如何区分非零向量
  * 定义1.2，两个非零向量相等，如果它们有相同的大小和方向。大小为零的向量等于零向量。
  * 